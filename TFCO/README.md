# TFCO

This section of the repository contains the source code for running data-driven temporal insights with FCO information. It requires a dataset generated by one of the FCO modeling approaches. Such a dataset is generated with `/FCO_modeling/multi_FCO.py`, which saves the dataset in `/FCO_modeling/tfco_datasets`.

**Warning:** We have identified a compatibility issue between the generated dataset and the usage of the dataset for training the TFCO networks on some systems. If you encounter this issue and still wish to train a TFCO network while we work on a solution, please use the dataset provided [here](https://faubox.rrze.uni-erlangen.de/getlink/fiJW2Kf84Enb3TAh5scbME/pen01_radius250).

## Analyzing Temporal Potential

One can analyze the temporal potential alongside the general potential of FCOs with `get_temporal_potential.py`. It takes the configurations from `configs/analysis_configs` where the dataset to be analyzed is defined alongside the loops (i.e., start times of the dataset generation), the minimum timesteps seen as described in the publication, as well as the sequence length given as input. For each combination of minimum timesteps seen, sequence length, and loop, the script will print:

  For each combination of minimum timesteps seen, sequence length, and loop, the script will print:

  - Total vehicles
  - Vehicles currently seen in the input and their percentage (i.e. the FCO potential)
  - Vehicles not seen at any timestep and their percentage 
  - Vehicles seen at some point in the past but not in the current timestep and their percentage (i.e. the temporal potential)

## Training Networks to Exploit Temporal Potential

In the paper, we demonstrated that the temporal potential can be exploited using neural network architectures. We provide a training script, `train.py`, which uses the configurations from `configs/train_config.yaml`. The results will be saved under `/trained_models`. The trained model can then be tested with `test.py`.
